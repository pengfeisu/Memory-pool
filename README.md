# MemoryPool
## 内存池的作用
在C和C++语言中，经常需要动态分配内存，我们会用到new，delete，malloc，free。但是当我们分配很多小块的内存时，会造成很多的内存碎片，大大降低了内存的使用效率。为了减少内存碎片的出现，采用了内存池技术。

## 内存池的实现原理
内存池先调用malloc函数申请一大块内存，然后维护一个空闲链表，该链表是一个个小的空闲内存片，每当需要内存时就从空闲链表上拿过来一个小片内存使用。如果空闲链表为空了，就从之前分配的大块内存去取几个插入到空闲链表上。如果分配的大块内存也用完了，就继续用malloc申请一大块。

## 实现
在学习STL源码时，了解了allocator类，于是打算自己实现一个简单的内存池

对于用户主要使用两个接口：
```
newElement();
newElement(const U& args);
```
该函数用于创建一个对象，并调用构造函数，最后返回对象指针。有带参数版本和无参数版本。

```
void deleteElement(pointer p);
```
该函数先调用析构函数，然后回收内存到内存池；
